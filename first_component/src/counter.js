/** * Created by wangxiaoyu on 2017/8/17. */import React, { Component , PropTypes } from 'react';const buttonStyle = {margin:'10px',backgroundColor:"red"};export default class Counter extends Component {    constructor(props){        super(props)        console.log('enter constructor: '+ props.caption );        this.onClickAddButton = this.onClickAddButton.bind(this);        this.onClickReduceButton = this.onClickReduceButton.bind(this);        this.state = {            count:props.initValue        }    }    componentWillReceiveProps(nextProps) {        console.log('enter componentWillReceiveProps ' + this.props.caption)    }    componentWillMount() {        console.log('enter componentWillMount ' + this.props.caption);    }    componentDidMount() {        console.log('enter componentDidMount ' + this.props.caption);    }    onClickAddButton(){        this.setState({count:this.state.count + 1})    }    onClickReduceButton(){        this.setState({count:this.state.count - 1})    }    shouldComponentUpdate(nextProps,nextState){        return (nextProps.caption !== this.props.caption) ||            (nextProps.count !== this.props.count)    }    render(){        console.log('enter render ' + this.props.caption);        const {caption} = this.props;        return (            <div>                <button style={buttonStyle} onClick={this.onClickAddButton}>+</button>                <button style={buttonStyle} onClick={this.onClickReduceButton}>-</button>                <span>{caption} count:{this.state.count}</span>            </div>        )    }}Counter.propTypes = {    caption:PropTypes.string.isRequired,    initValue:PropTypes.number};Counter.defaultProps = {initValue : 0};